#  Distributed under the Boost Software License, Version 1.0.
#  (See accompanying file LICENSE_1_0.txt or copy at
#  http://www.boost.org/LICENSE_1_0.txt)

project libs/stringify/test
    : requirements
      <include>../include
      <toolset>clang:<cxxflags>"-std=c++1y -Wall -Wextra"
      <toolset>darwin:<cxxflags>"-std=c++1y -Wall -Wextra"

    ;

nho = <define>BOOST_STRINGIFY_NOT_HEADER_ONLY ;
slib = /boost/stringify//boost_stringify ;

test-suite stringify :

   # as header-only library:

   [ run assembly_string.cpp   : : : : test-assembly_string-ho ]
   [ run encode_char.cpp       : : : : test-encode_char-ho ]
   [ run encode_fill.cpp       : : : : test-encode_fill-ho ]
   [ run input_string.cpp      : : : : test-input_string-ho ]
   [ run input_int.cpp         : : : : test-input_int-ho ]
   [ run input_char.cpp        : : : : test-input_char-ho ]
#   [ run input_char32.cpp      : : : : test-input_char32-ho ]
   [ run input_facets_pack.cpp : : : : test-input_facets_pack-ho ]
   [ run input_range.cpp       : : : : test-input_range-ho ]
   [ run numpunct.cpp          : : : : test-numpunct-ho ]
   [ run join.cpp              : : : : test-join-ho ]
   [ run output_string.cpp     : : : : test-output_string-ho ]
   [ run output_char_ptr.cpp   : : : : test-output_char_ptr-ho ]
   [ run output_streambuf.cpp  : : : : test-output_streambuf-ho ]
   [ run output_FILE.cpp       : : : : test-output_FILE-ho ]
   [ run facets_pack_merge.cpp : : : : test-facets_pack_merge-ho ]
   [ run facets_pack.cpp       : : : : test-facets_pack-ho ]
   [ run reserve.cpp           : : : : test-reserve-ho ]
   [ run width_calculator.cpp  : : : : test-width_calculator-ho ]
   [ run utf_to_utf.cpp  : : : : test-utf_to_utf-ho ]
   [ run single_byte_encodings.cpp  : : : : test-single_byte_encodings-ho ]

   # as static library:

   [ run assembly_string.cpp   $(slib) : : : $(nho) : test-assembly_string-nho ]
   [ run encode_char.cpp       $(slib) : : : $(nho) : test-encode_char-nho ]
   [ run encode_fill.cpp       $(slib) : : : $(nho) : test-encode_fill-nho ]
   [ run input_string.cpp      $(slib) : : : $(nho) : test-input_string-nho ]
   [ run input_int.cpp         $(slib) : : : $(nho) : test-input_int-nho ]
   [ run input_char.cpp        $(slib) : : : $(nho) : test-input_char-nho ]
#   [ run input_char32.cpp      $(slib) : : : $(nho) : test-input_char32-nho ]
   [ run input_facets_pack.cpp $(slib) : : : $(nho) : test-input_facets_pack-nho ]
   [ run input_range.cpp       $(slib) : : : $(nho) : test-input_range-nho ]
   [ run numpunct.cpp          $(slib) : : : $(nho) : test-numpunct-nho ]
   [ run join.cpp              $(slib) : : : $(nho) : test-join-nho ]
   [ run output_string.cpp     $(slib) : : : $(nho) : test-output_string-nho ]
   [ run output_char_ptr.cpp   $(slib) : : : $(nho) : test-output_char_ptr-nho ]
   [ run output_streambuf.cpp  $(slib) : : : $(nho) : test-output_streambuf-nho ]
   [ run output_FILE.cpp       $(slib) : : : $(nho) : test-output_FILE-nho ]
   [ run facets_pack_merge.cpp $(slib) : : : $(nho) : test-facets_pack_merge-nho ]
   [ run facets_pack.cpp       $(slib) : : : $(nho) : test-facets_pack-nho ]
   [ run reserve.cpp           $(slib) : : : $(nho) : test-reserve-nho ]
   [ run width_calculator.cpp  $(slib) : : : $(nho) : test-width_calculator-nho ]
   [ run utf_to_utf.cpp        $(slib) : : : $(nho) : test-utf_to_utf-nho ]
   [ run single_byte_encodings.cpp  $(slib) : : : $(nho) : test-single_byte_encodings-nho ]
;

# Satisfy the Boost library requirements
test-suite minimal  : stringify ;
test-suite full     : stringify ;
test-suite extra    : stringify ;

explicit stringify ;
explicit minimal ;
explicit extra ;
