<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<!--[if IE]><meta http-equiv="X-UA-Compatible" content="IE=edge"><![endif]-->
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="generator" content="Asciidoctor 1.5.5">
<title>The Strf formatting library - Quit Reference</title>
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700">
<style>
/* Asciidoctor default stylesheet | MIT License | http://asciidoctor.org */
/* Remove comment around @import statement below when using as a custom stylesheet */
/*@import "https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700";*/
article,aside,details,figcaption,figure,footer,header,hgroup,main,nav,section,summary{display:block}
audio,canvas,video{display:inline-block}
audio:not([controls]){display:none;height:0}
[hidden],template{display:none}
script{display:none!important}
html{font-family:sans-serif;-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%}
a{background:transparent}
a:focus{outline:thin dotted}
a:active,a:hover{outline:0}
h1{font-size:2em;margin:.67em 0}
abbr[title]{border-bottom:1px dotted}
b,strong{font-weight:bold}
dfn{font-style:italic}
hr{-moz-box-sizing:content-box;box-sizing:content-box;height:0}
mark{background:#ff0;color:#000}
code,kbd,pre,samp{font-family:monospace;font-size:1em}
pre{white-space:pre-wrap}
q{quotes:"\201C" "\201D" "\2018" "\2019"}
small{font-size:80%}
sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}
sup{top:-.5em}
sub{bottom:-.25em}
img{border:0}
svg:not(:root){overflow:hidden}
figure{margin:0}
fieldset{border:1px solid silver;margin:0 2px;padding:.35em .625em .75em}
legend{border:0;padding:0}
button,input,select,textarea{font-family:inherit;font-size:100%;margin:0}
button,input{line-height:normal}
button,select{text-transform:none}
button,html input[type="button"],input[type="reset"],input[type="submit"]{-webkit-appearance:button;cursor:pointer}
button[disabled],html input[disabled]{cursor:default}
input[type="checkbox"],input[type="radio"]{box-sizing:border-box;padding:0}
input[type="search"]{-webkit-appearance:textfield;-moz-box-sizing:content-box;-webkit-box-sizing:content-box;box-sizing:content-box}
input[type="search"]::-webkit-search-cancel-button,input[type="search"]::-webkit-search-decoration{-webkit-appearance:none}
button::-moz-focus-inner,input::-moz-focus-inner{border:0;padding:0}
textarea{overflow:auto;vertical-align:top}
table{border-collapse:collapse;border-spacing:0}
*,*:before,*:after{-moz-box-sizing:border-box;-webkit-box-sizing:border-box;box-sizing:border-box}
html,body{font-size:100%}
body{background:#fff;color:rgba(0,0,0,.8);padding:0;margin:0;font-family:"Noto Serif","DejaVu Serif",serif;font-weight:400;font-style:normal;line-height:1;position:relative;cursor:auto;tab-size:4;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased}
a:hover{cursor:pointer}
img,object,embed{max-width:100%;height:auto}
object,embed{height:100%}
img{-ms-interpolation-mode:bicubic}
.left{float:left!important}
.right{float:right!important}
.text-left{text-align:left!important}
.text-right{text-align:right!important}
.text-center{text-align:center!important}
.text-justify{text-align:justify!important}
.hide{display:none}
img,object,svg{display:inline-block;vertical-align:middle}
textarea{height:auto;min-height:50px}
select{width:100%}
.center{margin-left:auto;margin-right:auto}
.spread{width:100%}
p.lead,.paragraph.lead>p,#preamble>.sectionbody>.paragraph:first-of-type p{font-size:1.21875em;line-height:1.6}
.subheader,.admonitionblock td.content>.title,.audioblock>.title,.exampleblock>.title,.imageblock>.title,.listingblock>.title,.literalblock>.title,.stemblock>.title,.openblock>.title,.paragraph>.title,.quoteblock>.title,table.tableblock>.title,.verseblock>.title,.videoblock>.title,.dlist>.title,.olist>.title,.ulist>.title,.qlist>.title,.hdlist>.title{line-height:1.45;color:#7a2518;font-weight:400;margin-top:0;margin-bottom:.25em}
div,dl,dt,dd,ul,ol,li,h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6,pre,form,p,blockquote,th,td{margin:0;padding:0;direction:ltr}
a{color:#2156a5;text-decoration:underline;line-height:inherit}
a:hover,a:focus{color:#1d4b8f}
a img{border:none}
p{font-family:inherit;font-weight:400;font-size:1em;line-height:1.6;margin-bottom:1.25em;text-rendering:optimizeLegibility}
p aside{font-size:.875em;line-height:1.35;font-style:italic}
h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{font-family:"Open Sans","DejaVu Sans",sans-serif;font-weight:300;font-style:normal;color:#ba3925;text-rendering:optimizeLegibility;margin-top:1em;margin-bottom:.5em;line-height:1.0125em}
h1 small,h2 small,h3 small,#toctitle small,.sidebarblock>.content>.title small,h4 small,h5 small,h6 small{font-size:60%;color:#e99b8f;line-height:0}
h1{font-size:2.125em}
h2{font-size:1.6875em}
h3,#toctitle,.sidebarblock>.content>.title{font-size:1.375em}
h4,h5{font-size:1.125em}
h6{font-size:1em}
hr{border:solid #ddddd8;border-width:1px 0 0;clear:both;margin:1.25em 0 1.1875em;height:0}
em,i{font-style:italic;line-height:inherit}
strong,b{font-weight:bold;line-height:inherit}
small{font-size:60%;line-height:inherit}
code{font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;font-weight:400;color:rgba(0,0,0,.9)}
ul,ol,dl{font-size:1em;line-height:1.6;margin-bottom:1.25em;list-style-position:outside;font-family:inherit}
ul,ol,ul.no-bullet,ol.no-bullet{margin-left:1.5em}
ul li ul,ul li ol{margin-left:1.25em;margin-bottom:0;font-size:1em}
ul.square li ul,ul.circle li ul,ul.disc li ul{list-style:inherit}
ul.square{list-style-type:square}
ul.circle{list-style-type:circle}
ul.disc{list-style-type:disc}
ul.no-bullet{list-style:none}
ol li ul,ol li ol{margin-left:1.25em;margin-bottom:0}
dl dt{margin-bottom:.3125em;font-weight:bold}
dl dd{margin-bottom:1.25em}
abbr,acronym{text-transform:uppercase;font-size:90%;color:rgba(0,0,0,.8);border-bottom:1px dotted #ddd;cursor:help}
abbr{text-transform:none}
blockquote{margin:0 0 1.25em;padding:.5625em 1.25em 0 1.1875em;border-left:1px solid #ddd}
blockquote cite{display:block;font-size:.9375em;color:rgba(0,0,0,.6)}
blockquote cite:before{content:"\2014 \0020"}
blockquote cite a,blockquote cite a:visited{color:rgba(0,0,0,.6)}
blockquote,blockquote p{line-height:1.6;color:rgba(0,0,0,.85)}
@media only screen and (min-width:768px){h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{line-height:1.2}
h1{font-size:2.75em}
h2{font-size:2.3125em}
h3,#toctitle,.sidebarblock>.content>.title{font-size:1.6875em}
h4{font-size:1.4375em}}
table{background:#fff;margin-bottom:1.25em;border:solid 1px #dedede}
table thead,table tfoot{background:#f7f8f7;font-weight:bold}
table thead tr th,table thead tr td,table tfoot tr th,table tfoot tr td{padding:.5em .625em .625em;font-size:inherit;color:rgba(0,0,0,.8);text-align:left}
table tr th,table tr td{padding:.5625em .625em;font-size:inherit;color:rgba(0,0,0,.8)}
table tr.even,table tr.alt,table tr:nth-of-type(even){background:#f8f8f7}
table thead tr th,table tfoot tr th,table tbody tr td,table tr td,table tfoot tr td{display:table-cell;line-height:1.6}
h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{line-height:1.2;word-spacing:-.05em}
h1 strong,h2 strong,h3 strong,#toctitle strong,.sidebarblock>.content>.title strong,h4 strong,h5 strong,h6 strong{font-weight:400}
.clearfix:before,.clearfix:after,.float-group:before,.float-group:after{content:" ";display:table}
.clearfix:after,.float-group:after{clear:both}
*:not(pre)>code{font-size:.9375em;font-style:normal!important;letter-spacing:0;padding:.1em .5ex;word-spacing:-.15em;background-color:#f7f7f8;-webkit-border-radius:4px;border-radius:4px;line-height:1.45;text-rendering:optimizeSpeed;word-wrap:break-word}
*:not(pre)>code.nobreak{word-wrap:normal}
*:not(pre)>code.nowrap{white-space:nowrap}
pre,pre>code{line-height:1.45;color:rgba(0,0,0,.9);font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;font-weight:400;text-rendering:optimizeSpeed}
em em{font-style:normal}
strong strong{font-weight:400}
.keyseq{color:rgba(51,51,51,.8)}
kbd{font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;display:inline-block;color:rgba(0,0,0,.8);font-size:.65em;line-height:1.45;background-color:#f7f7f7;border:1px solid #ccc;-webkit-border-radius:3px;border-radius:3px;-webkit-box-shadow:0 1px 0 rgba(0,0,0,.2),0 0 0 .1em white inset;box-shadow:0 1px 0 rgba(0,0,0,.2),0 0 0 .1em #fff inset;margin:0 .15em;padding:.2em .5em;vertical-align:middle;position:relative;top:-.1em;white-space:nowrap}
.keyseq kbd:first-child{margin-left:0}
.keyseq kbd:last-child{margin-right:0}
.menuseq,.menu{color:rgba(0,0,0,.8)}
b.button:before,b.button:after{position:relative;top:-1px;font-weight:400}
b.button:before{content:"[";padding:0 3px 0 2px}
b.button:after{content:"]";padding:0 2px 0 3px}
p a>code:hover{color:rgba(0,0,0,.9)}
#header,#content,#footnotes,#footer{width:100%;margin-left:auto;margin-right:auto;margin-top:0;margin-bottom:0;max-width:62.5em;*zoom:1;position:relative;padding-left:.9375em;padding-right:.9375em}
#header:before,#header:after,#content:before,#content:after,#footnotes:before,#footnotes:after,#footer:before,#footer:after{content:" ";display:table}
#header:after,#content:after,#footnotes:after,#footer:after{clear:both}
#content{margin-top:1.25em}
#content:before{content:none}
#header>h1:first-child{color:rgba(0,0,0,.85);margin-top:2.25rem;margin-bottom:0}
#header>h1:first-child+#toc{margin-top:8px;border-top:1px solid #ddddd8}
#header>h1:only-child,body.toc2 #header>h1:nth-last-child(2){border-bottom:1px solid #ddddd8;padding-bottom:8px}
#header .details{border-bottom:1px solid #ddddd8;line-height:1.45;padding-top:.25em;padding-bottom:.25em;padding-left:.25em;color:rgba(0,0,0,.6);display:-ms-flexbox;display:-webkit-flex;display:flex;-ms-flex-flow:row wrap;-webkit-flex-flow:row wrap;flex-flow:row wrap}
#header .details span:first-child{margin-left:-.125em}
#header .details span.email a{color:rgba(0,0,0,.85)}
#header .details br{display:none}
#header .details br+span:before{content:"\00a0\2013\00a0"}
#header .details br+span.author:before{content:"\00a0\22c5\00a0";color:rgba(0,0,0,.85)}
#header .details br+span#revremark:before{content:"\00a0|\00a0"}
#header #revnumber{text-transform:capitalize}
#header #revnumber:after{content:"\00a0"}
#content>h1:first-child:not([class]){color:rgba(0,0,0,.85);border-bottom:1px solid #ddddd8;padding-bottom:8px;margin-top:0;padding-top:1rem;margin-bottom:1.25rem}
#toc{border-bottom:1px solid #efefed;padding-bottom:.5em}
#toc>ul{margin-left:.125em}
#toc ul.sectlevel0>li>a{font-style:italic}
#toc ul.sectlevel0 ul.sectlevel1{margin:.5em 0}
#toc ul{font-family:"Open Sans","DejaVu Sans",sans-serif;list-style-type:none}
#toc li{line-height:1.3334;margin-top:.3334em}
#toc a{text-decoration:none}
#toc a:active{text-decoration:underline}
#toctitle{color:#7a2518;font-size:1.2em}
@media only screen and (min-width:768px){#toctitle{font-size:1.375em}
body.toc2{padding-left:15em;padding-right:0}
#toc.toc2{margin-top:0!important;background-color:#f8f8f7;position:fixed;width:15em;left:0;top:0;border-right:1px solid #efefed;border-top-width:0!important;border-bottom-width:0!important;z-index:1000;padding:1.25em 1em;height:100%;overflow:auto}
#toc.toc2 #toctitle{margin-top:0;margin-bottom:.8rem;font-size:1.2em}
#toc.toc2>ul{font-size:.9em;margin-bottom:0}
#toc.toc2 ul ul{margin-left:0;padding-left:1em}
#toc.toc2 ul.sectlevel0 ul.sectlevel1{padding-left:0;margin-top:.5em;margin-bottom:.5em}
body.toc2.toc-right{padding-left:0;padding-right:15em}
body.toc2.toc-right #toc.toc2{border-right-width:0;border-left:1px solid #efefed;left:auto;right:0}}
@media only screen and (min-width:1280px){body.toc2{padding-left:20em;padding-right:0}
#toc.toc2{width:20em}
#toc.toc2 #toctitle{font-size:1.375em}
#toc.toc2>ul{font-size:.95em}
#toc.toc2 ul ul{padding-left:1.25em}
body.toc2.toc-right{padding-left:0;padding-right:20em}}
#content #toc{border-style:solid;border-width:1px;border-color:#e0e0dc;margin-bottom:1.25em;padding:1.25em;background:#f8f8f7;-webkit-border-radius:4px;border-radius:4px}
#content #toc>:first-child{margin-top:0}
#content #toc>:last-child{margin-bottom:0}
#footer{max-width:100%;background-color:rgba(0,0,0,.8);padding:1.25em}
#footer-text{color:rgba(255,255,255,.8);line-height:1.44}
.sect1{padding-bottom:.625em}
@media only screen and (min-width:768px){.sect1{padding-bottom:1.25em}}
.sect1+.sect1{border-top:1px solid #efefed}
#content h1>a.anchor,h2>a.anchor,h3>a.anchor,#toctitle>a.anchor,.sidebarblock>.content>.title>a.anchor,h4>a.anchor,h5>a.anchor,h6>a.anchor{position:absolute;z-index:1001;width:1.5ex;margin-left:-1.5ex;display:block;text-decoration:none!important;visibility:hidden;text-align:center;font-weight:400}
#content h1>a.anchor:before,h2>a.anchor:before,h3>a.anchor:before,#toctitle>a.anchor:before,.sidebarblock>.content>.title>a.anchor:before,h4>a.anchor:before,h5>a.anchor:before,h6>a.anchor:before{content:"\00A7";font-size:.85em;display:block;padding-top:.1em}
#content h1:hover>a.anchor,#content h1>a.anchor:hover,h2:hover>a.anchor,h2>a.anchor:hover,h3:hover>a.anchor,#toctitle:hover>a.anchor,.sidebarblock>.content>.title:hover>a.anchor,h3>a.anchor:hover,#toctitle>a.anchor:hover,.sidebarblock>.content>.title>a.anchor:hover,h4:hover>a.anchor,h4>a.anchor:hover,h5:hover>a.anchor,h5>a.anchor:hover,h6:hover>a.anchor,h6>a.anchor:hover{visibility:visible}
#content h1>a.link,h2>a.link,h3>a.link,#toctitle>a.link,.sidebarblock>.content>.title>a.link,h4>a.link,h5>a.link,h6>a.link{color:#ba3925;text-decoration:none}
#content h1>a.link:hover,h2>a.link:hover,h3>a.link:hover,#toctitle>a.link:hover,.sidebarblock>.content>.title>a.link:hover,h4>a.link:hover,h5>a.link:hover,h6>a.link:hover{color:#a53221}
.audioblock,.imageblock,.literalblock,.listingblock,.stemblock,.videoblock{margin-bottom:1.25em}
.admonitionblock td.content>.title,.audioblock>.title,.exampleblock>.title,.imageblock>.title,.listingblock>.title,.literalblock>.title,.stemblock>.title,.openblock>.title,.paragraph>.title,.quoteblock>.title,table.tableblock>.title,.verseblock>.title,.videoblock>.title,.dlist>.title,.olist>.title,.ulist>.title,.qlist>.title,.hdlist>.title{text-rendering:optimizeLegibility;text-align:left;font-family:"Noto Serif","DejaVu Serif",serif;font-size:1rem;font-style:italic}
table.tableblock>caption.title{white-space:nowrap;overflow:visible;max-width:0}
.paragraph.lead>p,#preamble>.sectionbody>.paragraph:first-of-type p{color:rgba(0,0,0,.85)}
table.tableblock #preamble>.sectionbody>.paragraph:first-of-type p{font-size:inherit}
.admonitionblock>table{border-collapse:separate;border:0;background:none;width:100%}
.admonitionblock>table td.icon{text-align:center;width:80px}
.admonitionblock>table td.icon img{max-width:none}
.admonitionblock>table td.icon .title{font-weight:bold;font-family:"Open Sans","DejaVu Sans",sans-serif;text-transform:uppercase}
.admonitionblock>table td.content{padding-left:1.125em;padding-right:1.25em;border-left:1px solid #ddddd8;color:rgba(0,0,0,.6)}
.admonitionblock>table td.content>:last-child>:last-child{margin-bottom:0}
.exampleblock>.content{border-style:solid;border-width:1px;border-color:#e6e6e6;margin-bottom:1.25em;padding:1.25em;background:#fff;-webkit-border-radius:4px;border-radius:4px}
.exampleblock>.content>:first-child{margin-top:0}
.exampleblock>.content>:last-child{margin-bottom:0}
.sidebarblock{border-style:solid;border-width:1px;border-color:#e0e0dc;margin-bottom:1.25em;padding:1.25em;background:#f8f8f7;-webkit-border-radius:4px;border-radius:4px}
.sidebarblock>:first-child{margin-top:0}
.sidebarblock>:last-child{margin-bottom:0}
.sidebarblock>.content>.title{color:#7a2518;margin-top:0;text-align:center}
.exampleblock>.content>:last-child>:last-child,.exampleblock>.content .olist>ol>li:last-child>:last-child,.exampleblock>.content .ulist>ul>li:last-child>:last-child,.exampleblock>.content .qlist>ol>li:last-child>:last-child,.sidebarblock>.content>:last-child>:last-child,.sidebarblock>.content .olist>ol>li:last-child>:last-child,.sidebarblock>.content .ulist>ul>li:last-child>:last-child,.sidebarblock>.content .qlist>ol>li:last-child>:last-child{margin-bottom:0}
.literalblock pre,.listingblock pre:not(.highlight),.listingblock pre[class="highlight"],.listingblock pre[class^="highlight "],.listingblock pre.CodeRay,.listingblock pre.prettyprint{background:#f7f7f8}
.sidebarblock .literalblock pre,.sidebarblock .listingblock pre:not(.highlight),.sidebarblock .listingblock pre[class="highlight"],.sidebarblock .listingblock pre[class^="highlight "],.sidebarblock .listingblock pre.CodeRay,.sidebarblock .listingblock pre.prettyprint{background:#f2f1f1}
.literalblock pre,.literalblock pre[class],.listingblock pre,.listingblock pre[class]{-webkit-border-radius:4px;border-radius:4px;word-wrap:break-word;padding:1em;font-size:.8125em}
.literalblock pre.nowrap,.literalblock pre[class].nowrap,.listingblock pre.nowrap,.listingblock pre[class].nowrap{overflow-x:auto;white-space:pre;word-wrap:normal}
@media only screen and (min-width:768px){.literalblock pre,.literalblock pre[class],.listingblock pre,.listingblock pre[class]{font-size:.90625em}}
@media only screen and (min-width:1280px){.literalblock pre,.literalblock pre[class],.listingblock pre,.listingblock pre[class]{font-size:1em}}
.literalblock.output pre{color:#f7f7f8;background-color:rgba(0,0,0,.9)}
.listingblock pre.highlightjs{padding:0}
.listingblock pre.highlightjs>code{padding:1em;-webkit-border-radius:4px;border-radius:4px}
.listingblock pre.prettyprint{border-width:0}
.listingblock>.content{position:relative}
.listingblock code[data-lang]:before{display:none;content:attr(data-lang);position:absolute;font-size:.75em;top:.425rem;right:.5rem;line-height:1;text-transform:uppercase;color:#999}
.listingblock:hover code[data-lang]:before{display:block}
.listingblock.terminal pre .command:before{content:attr(data-prompt);padding-right:.5em;color:#999}
.listingblock.terminal pre .command:not([data-prompt]):before{content:"$"}
table.pyhltable{border-collapse:separate;border:0;margin-bottom:0;background:none}
table.pyhltable td{vertical-align:top;padding-top:0;padding-bottom:0;line-height:1.45}
table.pyhltable td.code{padding-left:.75em;padding-right:0}
pre.pygments .lineno,table.pyhltable td:not(.code){color:#999;padding-left:0;padding-right:.5em;border-right:1px solid #ddddd8}
pre.pygments .lineno{display:inline-block;margin-right:.25em}
table.pyhltable .linenodiv{background:none!important;padding-right:0!important}
.quoteblock{margin:0 1em 1.25em 1.5em;display:table}
.quoteblock>.title{margin-left:-1.5em;margin-bottom:.75em}
.quoteblock blockquote,.quoteblock blockquote p{color:rgba(0,0,0,.85);font-size:1.15rem;line-height:1.75;word-spacing:.1em;letter-spacing:0;font-style:italic;text-align:justify}
.quoteblock blockquote{margin:0;padding:0;border:0}
.quoteblock blockquote:before{content:"\201c";float:left;font-size:2.75em;font-weight:bold;line-height:.6em;margin-left:-.6em;color:#7a2518;text-shadow:0 1px 2px rgba(0,0,0,.1)}
.quoteblock blockquote>.paragraph:last-child p{margin-bottom:0}
.quoteblock .attribution{margin-top:.5em;margin-right:.5ex;text-align:right}
.quoteblock .quoteblock{margin-left:0;margin-right:0;padding:.5em 0;border-left:3px solid rgba(0,0,0,.6)}
.quoteblock .quoteblock blockquote{padding:0 0 0 .75em}
.quoteblock .quoteblock blockquote:before{display:none}
.verseblock{margin:0 1em 1.25em 1em}
.verseblock pre{font-family:"Open Sans","DejaVu Sans",sans;font-size:1.15rem;color:rgba(0,0,0,.85);font-weight:300;text-rendering:optimizeLegibility}
.verseblock pre strong{font-weight:400}
.verseblock .attribution{margin-top:1.25rem;margin-left:.5ex}
.quoteblock .attribution,.verseblock .attribution{font-size:.9375em;line-height:1.45;font-style:italic}
.quoteblock .attribution br,.verseblock .attribution br{display:none}
.quoteblock .attribution cite,.verseblock .attribution cite{display:block;letter-spacing:-.025em;color:rgba(0,0,0,.6)}
.quoteblock.abstract{margin:0 0 1.25em 0;display:block}
.quoteblock.abstract blockquote,.quoteblock.abstract blockquote p{text-align:left;word-spacing:0}
.quoteblock.abstract blockquote:before,.quoteblock.abstract blockquote p:first-of-type:before{display:none}
table.tableblock{max-width:100%;border-collapse:separate}
table.tableblock td>.paragraph:last-child p>p:last-child,table.tableblock th>p:last-child,table.tableblock td>p:last-child{margin-bottom:0}
table.tableblock,th.tableblock,td.tableblock{border:0 solid #dedede}
table.grid-all th.tableblock,table.grid-all td.tableblock{border-width:0 1px 1px 0}
table.grid-all tfoot>tr>th.tableblock,table.grid-all tfoot>tr>td.tableblock{border-width:1px 1px 0 0}
table.grid-cols th.tableblock,table.grid-cols td.tableblock{border-width:0 1px 0 0}
table.grid-all *>tr>.tableblock:last-child,table.grid-cols *>tr>.tableblock:last-child{border-right-width:0}
table.grid-rows th.tableblock,table.grid-rows td.tableblock{border-width:0 0 1px 0}
table.grid-all tbody>tr:last-child>th.tableblock,table.grid-all tbody>tr:last-child>td.tableblock,table.grid-all thead:last-child>tr>th.tableblock,table.grid-rows tbody>tr:last-child>th.tableblock,table.grid-rows tbody>tr:last-child>td.tableblock,table.grid-rows thead:last-child>tr>th.tableblock{border-bottom-width:0}
table.grid-rows tfoot>tr>th.tableblock,table.grid-rows tfoot>tr>td.tableblock{border-width:1px 0 0 0}
table.frame-all{border-width:1px}
table.frame-sides{border-width:0 1px}
table.frame-topbot{border-width:1px 0}
th.halign-left,td.halign-left{text-align:left}
th.halign-right,td.halign-right{text-align:right}
th.halign-center,td.halign-center{text-align:center}
th.valign-top,td.valign-top{vertical-align:top}
th.valign-bottom,td.valign-bottom{vertical-align:bottom}
th.valign-middle,td.valign-middle{vertical-align:middle}
table thead th,table tfoot th{font-weight:bold}
tbody tr th{display:table-cell;line-height:1.6;background:#f7f8f7}
tbody tr th,tbody tr th p,tfoot tr th,tfoot tr th p{color:rgba(0,0,0,.8);font-weight:bold}
p.tableblock>code:only-child{background:none;padding:0}
p.tableblock{font-size:1em}
td>div.verse{white-space:pre}
ol{margin-left:1.75em}
ul li ol{margin-left:1.5em}
dl dd{margin-left:1.125em}
dl dd:last-child,dl dd:last-child>:last-child{margin-bottom:0}
ol>li p,ul>li p,ul dd,ol dd,.olist .olist,.ulist .ulist,.ulist .olist,.olist .ulist{margin-bottom:.625em}
ul.unstyled,ol.unnumbered,ul.checklist,ul.none{list-style-type:none}
ul.unstyled,ol.unnumbered,ul.checklist{margin-left:.625em}
ul.checklist li>p:first-child>.fa-square-o:first-child,ul.checklist li>p:first-child>.fa-check-square-o:first-child{width:1em;font-size:.85em}
ul.checklist li>p:first-child>input[type="checkbox"]:first-child{width:1em;position:relative;top:1px}
ul.inline{margin:0 auto .625em auto;margin-left:-1.375em;margin-right:0;padding:0;list-style:none;overflow:hidden}
ul.inline>li{list-style:none;float:left;margin-left:1.375em;display:block}
ul.inline>li>*{display:block}
.unstyled dl dt{font-weight:400;font-style:normal}
ol.arabic{list-style-type:decimal}
ol.decimal{list-style-type:decimal-leading-zero}
ol.loweralpha{list-style-type:lower-alpha}
ol.upperalpha{list-style-type:upper-alpha}
ol.lowerroman{list-style-type:lower-roman}
ol.upperroman{list-style-type:upper-roman}
ol.lowergreek{list-style-type:lower-greek}
.hdlist>table,.colist>table{border:0;background:none}
.hdlist>table>tbody>tr,.colist>table>tbody>tr{background:none}
td.hdlist1,td.hdlist2{vertical-align:top;padding:0 .625em}
td.hdlist1{font-weight:bold;padding-bottom:1.25em}
.literalblock+.colist,.listingblock+.colist{margin-top:-.5em}
.colist>table tr>td:first-of-type{padding:0 .75em;line-height:1}
.colist>table tr>td:last-of-type{padding:.25em 0}
.thumb,.th{line-height:0;display:inline-block;border:solid 4px #fff;-webkit-box-shadow:0 0 0 1px #ddd;box-shadow:0 0 0 1px #ddd}
.imageblock.left,.imageblock[style*="float: left"]{margin:.25em .625em 1.25em 0}
.imageblock.right,.imageblock[style*="float: right"]{margin:.25em 0 1.25em .625em}
.imageblock>.title{margin-bottom:0}
.imageblock.thumb,.imageblock.th{border-width:6px}
.imageblock.thumb>.title,.imageblock.th>.title{padding:0 .125em}
.image.left,.image.right{margin-top:.25em;margin-bottom:.25em;display:inline-block;line-height:0}
.image.left{margin-right:.625em}
.image.right{margin-left:.625em}
a.image{text-decoration:none;display:inline-block}
a.image object{pointer-events:none}
sup.footnote,sup.footnoteref{font-size:.875em;position:static;vertical-align:super}
sup.footnote a,sup.footnoteref a{text-decoration:none}
sup.footnote a:active,sup.footnoteref a:active{text-decoration:underline}
#footnotes{padding-top:.75em;padding-bottom:.75em;margin-bottom:.625em}
#footnotes hr{width:20%;min-width:6.25em;margin:-.25em 0 .75em 0;border-width:1px 0 0 0}
#footnotes .footnote{padding:0 .375em 0 .225em;line-height:1.3334;font-size:.875em;margin-left:1.2em;text-indent:-1.05em;margin-bottom:.2em}
#footnotes .footnote a:first-of-type{font-weight:bold;text-decoration:none}
#footnotes .footnote:last-of-type{margin-bottom:0}
#content #footnotes{margin-top:-.625em;margin-bottom:0;padding:.75em 0}
.gist .file-data>table{border:0;background:#fff;width:100%;margin-bottom:0}
.gist .file-data>table td.line-data{width:99%}
div.unbreakable{page-break-inside:avoid}
.big{font-size:larger}
.small{font-size:smaller}
.underline{text-decoration:underline}
.overline{text-decoration:overline}
.line-through{text-decoration:line-through}
.aqua{color:#00bfbf}
.aqua-background{background-color:#00fafa}
.black{color:#000}
.black-background{background-color:#000}
.blue{color:#0000bf}
.blue-background{background-color:#0000fa}
.fuchsia{color:#bf00bf}
.fuchsia-background{background-color:#fa00fa}
.gray{color:#606060}
.gray-background{background-color:#7d7d7d}
.green{color:#006000}
.green-background{background-color:#007d00}
.lime{color:#00bf00}
.lime-background{background-color:#00fa00}
.maroon{color:#600000}
.maroon-background{background-color:#7d0000}
.navy{color:#000060}
.navy-background{background-color:#00007d}
.olive{color:#606000}
.olive-background{background-color:#7d7d00}
.purple{color:#600060}
.purple-background{background-color:#7d007d}
.red{color:#bf0000}
.red-background{background-color:#fa0000}
.silver{color:#909090}
.silver-background{background-color:#bcbcbc}
.teal{color:#006060}
.teal-background{background-color:#007d7d}
.white{color:#bfbfbf}
.white-background{background-color:#fafafa}
.yellow{color:#bfbf00}
.yellow-background{background-color:#fafa00}
span.icon>.fa{cursor:default}
.admonitionblock td.icon [class^="fa icon-"]{font-size:2.5em;text-shadow:1px 1px 2px rgba(0,0,0,.5);cursor:default}
.admonitionblock td.icon .icon-note:before{content:"\f05a";color:#19407c}
.admonitionblock td.icon .icon-tip:before{content:"\f0eb";text-shadow:1px 1px 2px rgba(155,155,0,.8);color:#111}
.admonitionblock td.icon .icon-warning:before{content:"\f071";color:#bf6900}
.admonitionblock td.icon .icon-caution:before{content:"\f06d";color:#bf3400}
.admonitionblock td.icon .icon-important:before{content:"\f06a";color:#bf0000}
.conum[data-value]{display:inline-block;color:#fff!important;background-color:rgba(0,0,0,.8);-webkit-border-radius:100px;border-radius:100px;text-align:center;font-size:.75em;width:1.67em;height:1.67em;line-height:1.67em;font-family:"Open Sans","DejaVu Sans",sans-serif;font-style:normal;font-weight:bold}
.conum[data-value] *{color:#fff!important}
.conum[data-value]+b{display:none}
.conum[data-value]:after{content:attr(data-value)}
pre .conum[data-value]{position:relative;top:-.125em}
b.conum *{color:inherit!important}
.conum:not([data-value]):empty{display:none}
dt,th.tableblock,td.content,div.footnote{text-rendering:optimizeLegibility}
h1,h2,p,td.content,span.alt{letter-spacing:-.01em}
p strong,td.content strong,div.footnote strong{letter-spacing:-.005em}
p,blockquote,dt,td.content,span.alt{font-size:1.0625rem}
p{margin-bottom:1.25rem}
.sidebarblock p,.sidebarblock dt,.sidebarblock td.content,p.tableblock{font-size:1em}
.exampleblock>.content{background-color:#fffef7;border-color:#e0e0dc;-webkit-box-shadow:0 1px 4px #e0e0dc;box-shadow:0 1px 4px #e0e0dc}
.print-only{display:none!important}
@media print{@page{margin:1.25cm .75cm}
*{-webkit-box-shadow:none!important;box-shadow:none!important;text-shadow:none!important}
a{color:inherit!important;text-decoration:underline!important}
a.bare,a[href^="#"],a[href^="mailto:"]{text-decoration:none!important}
a[href^="http:"]:not(.bare):after,a[href^="https:"]:not(.bare):after{content:"(" attr(href) ")";display:inline-block;font-size:.875em;padding-left:.25em}
abbr[title]:after{content:" (" attr(title) ")"}
pre,blockquote,tr,img,object,svg{page-break-inside:avoid}
thead{display:table-header-group}
svg{max-width:100%}
p,blockquote,dt,td.content{font-size:1em;orphans:3;widows:3}
h2,h3,#toctitle,.sidebarblock>.content>.title{page-break-after:avoid}
#toc,.sidebarblock,.exampleblock>.content{background:none!important}
#toc{border-bottom:1px solid #ddddd8!important;padding-bottom:0!important}
.sect1{padding-bottom:0!important}
.sect1+.sect1{border:0!important}
#header>h1:first-child{margin-top:1.25rem}
body.book #header{text-align:center}
body.book #header>h1:first-child{border:0!important;margin:2.5em 0 1em 0}
body.book #header .details{border:0!important;display:block;padding:0!important}
body.book #header .details span:first-child{margin-left:0!important}
body.book #header .details br{display:block}
body.book #header .details br+span:before{content:none!important}
body.book #toc{border:0!important;text-align:left!important;padding:0!important;margin:0!important}
body.book #toc,body.book #preamble,body.book h1.sect0,body.book .sect1>h2{page-break-before:always}
.listingblock code[data-lang]:before{display:block}
#footer{background:none!important;padding:0 .9375em}
#footer-text{color:rgba(0,0,0,.6)!important;font-size:.9em}
.hide-on-print{display:none!important}
.print-only{display:block!important}
.hide-for-print{display:none!important}
.show-for-print{display:inherit!important}}
</style>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.6.3/css/font-awesome.min.css">
</head>
<body class="article toc2 toc-left">
<div id="header">
<h1>The Strf formatting library - Quit Reference</h1>
<div id="toc" class="toc2">
<div id="toctitle">Table of Contents</div>
<ul class="sectlevel1">
<li><a href="#format_functions">1. Format Functions</a></li>
<li><a href="#_destinations">2. Destinations</a></li>
<li><a href="#outbuff_types">3. Derivates of <code>basic_outbuff</code></a></li>
<li><a href="#tr_string">4. Tr-string</a></li>
<li><a href="#facets">5. Facet Categories</a></li>
<li><a href="#numpunct">6. Numeric punctuation</a></li>
<li><a href="#lettercase">7. Letter case</a></li>
<li><a href="#character_encoding">8. Character encodings</a></li>
<li><a href="#width_calculator">9. Width Calculation</a></li>
<li><a href="#_ranges">10. Ranges</a></li>
<li><a href="#join">11. Joins</a></li>
<li><a href="#_extending_the_library_em_to_do_em">12. Extending the library <em>(to-do)</em></a></li>
</ul>
</div>
</div>
<div id="content">
<div class="sect1">
<h2 id="format_functions">1. Format Functions</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The expression <code>fmt(<em>arg</em>)</code> returns a printable object that contains a copy or reference of
<code>arg</code> as well as format information that can be edited with the
member functions listed in the tables below.</p>
</div>
<div class="listingblock">
<div class="title">Example</div>
<div class="content">
<pre class="prettyprint highlight"><code class="language-cpp" data-lang="cpp">auto str = strf::to_string( +*strf::fmt(1.0).sci().fill(U'~') ^ 15 );
assert(str == "~~~~+1.e+01~~~~")</code></pre>
</div>
</div>
<table class="tableblock frame-all grid-all spread">
<caption class="title">Table 1. Alignment format functions&#8201;&#8212;&#8201;for all printable types</caption>
<colgroup>
<col style="width: 40%;">
<col style="width: 60%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Member function</th>
<th class="tableblock halign-left valign-top">Effect</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>operator&lt;(std::int16_t width)</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Aligns to the left ( Or to the right right-to-left (RTL) script )</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>operator&gt;(std::int16_t width)</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Aligns to the right ( Or to the left right-to-left (RTL) script )</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>operator^(std::int16_t width)</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Center alignment</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>operator%(std::int16_t width)</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Splits the content, as in <code>std::internal</code>.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>fill(char32_t ch)</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Sets the fill character.</p></td>
</tr>
</tbody>
</table>
<table class="tableblock frame-all grid-all spread">
<caption class="title">Table 2. When <code><em>arg</em></code> is a numeric value</caption>
<colgroup>
<col style="width: 40%;">
<col style="width: 60%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Member function</th>
<th class="tableblock halign-left valign-top">Effect</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>p(unsigned precision)</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Sets the precision. For integers and floating points.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>bin()</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Uses the binary base. For integers only</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>oct()</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Uses the octal base. For integers only</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>dec()</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Uses the decimal base. For integers only</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>hex()</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Uses the hexadecimal base. For integers and floating points.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>operator*()</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Prints base indication on integers. Print decimal point on floating points.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>operator+()</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Prints <code>'+'</code> for non negative values. For integers and floating points.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>fixed()</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Uses fixed notation. For floating points only.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>sci()</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Uses scientific notation. For floating points only.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>gen()</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Uses "general" notation. For floating points only.</p></td>
</tr>
</tbody>
</table>
<table class="tableblock frame-all grid-all spread">
<caption class="title">Table 3. When <code><em>arg</em></code> is a character</caption>
<colgroup>
<col style="width: 40%;">
<col style="width: 60%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Member function</th>
<th class="tableblock halign-left valign-top">Effect</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>multi(std::size_t count)</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Prints the argument <code>count</code> times.</p></td>
</tr>
</tbody>
</table>
<table class="tableblock frame-all grid-all spread">
<caption class="title">Table 4. When <code><em>arg</em></code> is a string</caption>
<colgroup>
<col style="width: 40%;">
<col style="width: 60%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Member function</th>
<th class="tableblock halign-left valign-top">Effect</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>p(<a href="strf_hpp.html#width_t">width_t</a> precision)</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Sets string precision</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>template &lt;typename Enc&gt;</code> <code>sanitize_from_encoding(Enc enc)</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Transcodes the input string from the character encoding represented by <code>enc</code>,
  or just sanitizes it if <code>enc</code> is also the destination encoding.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>template &lt;typename Enc&gt;</code> <code>convert_from_encoding(Enc enc)</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Transocdes the input string from the character encoding represented by <code>enc</code>,
  if it is not already destination encoding.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>template &lt;typename Enc&gt;</code> <code>sani(Enc enc)</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Equivalent to <code>sanitize_from_encoding(enc)</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>template &lt;typename Enc&gt;</code> <code>conv(Enc enc)</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Equivalent to <code>convert_from_encoding(enc)</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>template &lt;typename Enc&gt;</code> <code>sanitize_encoding()</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Transcodes the input string from the character encoding that corresponds
  to its character type, or just sanitizes it if it same
  as the destination encoding.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>template &lt;typename Enc&gt;</code> <code>convert_encoding()</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Transsodes the input string from the character encoding that correspods
  to its character type, if it is not already the same
  as the destination encoding.</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>The library also provides some global function templates
that work as alias to format functions:</p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 46.8085%;">
<col style="width: 53.1915%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Expression</th>
<th class="tableblock halign-left valign-top">Equivalent Expression</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>left(<em>arg</em>, <em>width</em>)</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>fmt(<em>arg</em>) &lt; <em>width</em></code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>right(<em>arg</em>, <em>width</em>)</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>fmt(<em>arg</em>) &gt; <em>width</em></code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>center(<em>arg</em>, <em>width</em>)</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>fmt(<em>arg</em>) ^ <em>width</em></code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>split(<em>arg</em>, <em>width</em>)</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>fmt(<em>arg</em>) % <em>width</em></code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>left(<em>arg</em>, <em>width</em>, <em>ch</em>)</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>fmt(<em>arg</em>).fill(<em>ch</em>) &lt; <em>width</em></code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>right(<em>arg</em>, <em>width</em>, <em>ch</em>)</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>fmt(<em>arg</em>).fill(<em>ch</em>) &gt; <em>width</em></code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>center(<em>arg</em>, <em>width</em>, <em>ch</em>)</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>fmt(<em>arg</em>).fill(<em>ch</em>) ^ <em>width</em></code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>split(<em>arg</em>, <em>width</em>, <em>ch</em>)</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>fmt(<em>arg</em>).fill(<em>ch</em>) % <em>width</em></code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>bin(<em>arg</em>)</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>fmt(<em>arg</em>).bin()</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>dec(<em>arg</em>)</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>fmt(<em>arg</em>).oct()</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>oct(<em>arg</em>)</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>fmt(<em>arg</em>).dec()</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>hex(<em>arg</em>)</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>fmt(<em>arg</em>).hex()</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>sci(<em>arg</em>)</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>fmt(<em>arg</em>).sic()</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>fixed(<em>arg</em>)</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>fmt(<em>arg</em>).fixed()</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>gen(<em>arg</em>)</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>fmt(<em>arg</em>).gen()</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>sci(<em>arg</em>, <em>precision</em>)</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>fmt(<em>arg</em>).sic().p(<em>precision</em>)</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>fixed(<em>arg</em>, <em>precision</em>)</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>fmt(<em>arg</em>).fixed().p(<em>precision</em>)</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>gen(<em>arg</em>, <em>precision</em>)</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>fmt(<em>arg</em>).gen().p(<em>precision</em>)</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>multi(<em>arg</em>, <em>count</em>)</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>fmt(<em>arg</em>).multi(<em>count</em>)</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>sani(<em>arg</em>, <em>enc</em>)</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>fmt(<em>arg</em>).sani(<em>enc</em>)</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>conv(<em>arg</em>, <em>enc</em>)</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>fmt(<em>arg</em>).conv(<em>enc</em>)</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>sani(<em>arg</em>)</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>fmt(<em>arg</em>).sani()</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>conv(<em>arg</em>)</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>fmt(<em>arg</em>).cont()</code></p></td>
</tr>
</tbody>
</table>
<div class="listingblock">
<div class="title">Example</div>
<div class="content">
<pre class="prettyprint highlight"><code class="language-cpp" data-lang="cpp">auto str = strf::to_string( +*strf::center(1.0, 9, U'~') );
assert(str == "~~~+1.~~~")</code></pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_destinations">2. Destinations</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 71.4285%;">
<col style="width: 28.5715%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Expression</th>
<th class="tableblock halign-left valign-top">Header</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><a href="#dest_outbuff">to</a> (<em>outbuff_ref</em>) (<em>args...</em>)</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><a href="strf_hpp.html">&lt;strf.hpp&gt;</a></code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><a href="#dest_raw_string">to</a> (<em>char_ptr</em>, <em>count</em>) (<em>args...</em>)</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><a href="strf_hpp.html">&lt;strf.hpp&gt;</a></code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><a href="#dest_raw_string">to</a> (<em>char_ptr</em>, <em>end</em>) (<em>args...</em>)</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><a href="strf_hpp.html">&lt;strf.hpp&gt;</a></code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><a href="#dest_raw_string">to</a> (<em>char_array</em>) (<em>args...</em>)</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><a href="strf_hpp.html">&lt;strf.hpp&gt;</a></code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><a href="#dest_to_basic_string">to_basic_string</a> &lt;<em>CharT</em>, <em>Traits</em><sub><em>opt</em></sub>, <em>A</em><sub><em>opt</em></sub>&gt; (<em>args...</em>)</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><a href="to_string_hpp.html">&lt;strf/to_string.hpp&gt;</a></code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><a href="#dest_to_string">to_string</a>               (<em>args...</em>)</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><a href="to_string_hpp.html">&lt;strf/to_string.hpp&gt;</a></code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><a href="#dest_to_u8string">to_u8string</a>             (<em>args...</em>)</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><a href="to_string_hpp.html">&lt;strf/to_string.hpp&gt;</a></code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><a href="#dest_to_u16string">to_u16string</a>            (<em>args...</em>)</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><a href="to_string_hpp.html">&lt;strf/to_string.hpp&gt;</a></code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><a href="#dest_to_u32string">to_u16string</a>            (<em>args...</em>)</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><a href="to_string_hpp.html">&lt;strf/to_string.hpp&gt;</a></code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><a href="#dest_to_wstring">to_wstring</a>               (<em>args...</em>)</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><a href="to_string_hpp.html">&lt;strf/to_string.hpp&gt;</a></code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><a href="#dest_streambuf">to</a> (<em>streambuf_ptr</em>)  (<em>args...</em>)</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><a href="to_streambuf_hpp.html">&lt;strf/to_streambuf.hpp&gt;</a></code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><a href="#dest_streambuf">to</a> (<em>streambuf_ref</em>)  (<em>args...</em>)</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><a href="to_streambuf_hpp.html">&lt;strf/to_streambuf.hpp&gt;</a></code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><a href="#dest_cfile">to</a> &lt;<em>CharT</em><sub><em>opt</em></sub>&gt; (<em>cfile</em>)     (<em>args...</em>)</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><a href="to_cfile_hpp.html">&lt;strf/to_cfile.hpp&gt;</a></code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><a href="#dest_wcfile">wto</a> (<em>cfile</em>)              (<em>args...</em>)</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><a href="to_cfile_hpp.html">&lt;strf/to_cfile.hpp&gt;</a></code></p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>where:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code><em>CharT</em></code> is a charater type.</p>
</li>
<li>
<p><code><em>Traits</em></code> is a <a href="https://en.cppreference.com/w/cpp/named_req/CharTraits"><em>CharTraits</em></a> type.</p>
</li>
<li>
<p><code><em>A</em></code> is an <a href="https://en.cppreference.com/w/cpp/named_req/Allocator"><em>Allocator</em></a> type</p>
</li>
<li>
<p><code><em>char_ptr</em></code> is a <code><em>CharT</em>*</code> value, where <code><em>CharT</em></code> is a character type.</p>
</li>
<li>
<p><code><em>end</em></code> is a <code><em>CharT</em>*</code> value, where <code><em>CharT</em></code> is a character type.</p>
</li>
<li>
<p><code><em>count</em></code> is a <code>std::size_t</code> value</p>
</li>
<li>
<p><code><em>streambuf_ptr</em></code> is a <code>std::streambuf&lt;<em>CharT</em>, <em>Traits</em>&gt;*</code></p>
</li>
<li>
<p><code><em>streambuf_ref</em></code> is a <code>std::streambuf&lt;<em>CharT</em>, <em>Traits</em>&gt;&amp;</code></p>
</li>
<li>
<p><code><em>cfile</em></code> is a <code>FILE*</code></p>
</li>
<li>
<p><code><em>outbuff_ref</em></code> is a <code>basic_outbuff&lt;<em>CharT</em>&gt;&amp;</code>,  where <code><em>CharT</em></code> is a character type.</p>
</li>
<li>
<p><code><em>args...</em></code> is an argument list of printable values.</p>
</li>
</ul>
</div>
<div id="dest_outbuff" class="exampleblock">
<div class="content">
<div class="listingblock">
<div class="content">
<pre>strf::to(<em>outbuff_ref</em>) (<em>args...</em>)</pre>
</div>
</div>
<div class="hdlist">
<table>
<tr>
<td class="hdlist1">
Return type
</td>
<td class="hdlist2">
<p><code>basic_outbuff&lt;<em>CharT</em>&gt;&amp;</code></p>
</td>
</tr>
<tr>
<td class="hdlist1">
Return value
</td>
<td class="hdlist2">
<p><code><em>outbuff_ref</em></code></p>
</td>
</tr>
<tr>
<td class="hdlist1">
Supports reserve
</td>
<td class="hdlist2">
<p>No
See the <a href="#outbuff_types">list of types</a> that derive from <code>basic_outbuff&lt;<em>CharT</em>&gt;&amp;</code>.</p>
</td>
</tr>
</table>
</div>
</div>
</div>
<div id="dest_raw_string" class="exampleblock">
<div class="content">
<div class="listingblock">
<div class="content">
<pre>strf::<a href="strf_hpp.html#to_char_ptr_count">to</a>(<em>char_ptr</em>, <em>count</em>) (<em>args...</em>);
strf::<a href="strf_hpp.html#to_char_range">to</a>(<em>char_ptr</em>, <em>end</em>)   (<em>args...</em>);
strf::<a href="strf_hpp.html#to_char_array">to</a>(<em>char_array</em>)      (<em>args...</em>);</pre>
</div>
</div>
<div class="hdlist">
<table>
<tr>
<td class="hdlist1">
Header file
</td>
<td class="hdlist2">
<p><code><a href="strf_hpp.html">&lt;strf.hpp&gt;</a></code></p>
</td>
</tr>
<tr>
<td class="hdlist1">
Preconditions
</td>
<td class="hdlist2">
<div class="ulist">
<ul>
<li>
<p><code><em>count</em> &gt; 0</code></p>
</li>
<li>
<p><code><em>end</em> &gt; <em>char_ptr</em></code></p>
</li>
</ul>
</div>
</td>
</tr>
<tr>
<td class="hdlist1">
Return type
</td>
<td class="hdlist2">
<p><code><a href="outbuff_hpp.html#basic_cstr_writer">basic_cstr_writer&lt;<em>CharT</em>&gt;::result</code></a></p>
</td>
</tr>
<tr>
<td class="hdlist1">
Return value
</td>
<td class="hdlist2">
<p>a value <code>r</code>, such that:</p>
<div class="ulist">
<ul>
<li>
<p><code>r.ptr</code> points to last written character which is always <code>'\0'</code>.</p>
</li>
<li>
<p><code>r.truncated</code> is <code>true</code> when the destination string is too small.</p>
</li>
</ul>
</div>
</td>
</tr>
<tr>
<td class="hdlist1">
Note
</td>
<td class="hdlist2">
<p>The termination character <code>'\0'</code> is always written.</p>
</td>
</tr>
<tr>
<td class="hdlist1">
Supports reserve
</td>
<td class="hdlist2">
<p>No</p>
</td>
</tr>
</table>
</div>
</div>
</div>
<div id="dest_to_basic_string" class="exampleblock">
<div class="content">
<div class="listingblock">
<div class="content">
<pre>strf::<a href="to_string_hpp.html#to_basic_string">to_basic_string</a> &lt;<em>CharT</em>, <em>Traits</em><sub><em>opt</em></sub>, <em>A</em><sub><em>opt</em></sub>&gt; ( <em>args...</em> )</pre>
</div>
</div>
<div class="hdlist">
<table>
<tr>
<td class="hdlist1">
Return type
</td>
<td class="hdlist2">
<p><code>std::basic_string&lt;<em>CharT</em>, <em>Traits</em>, <em>A</em>&gt;</code></p>
</td>
</tr>
<tr>
<td class="hdlist1">
Supports reserve
</td>
<td class="hdlist2">
<p>Yes</p>
</td>
</tr>
</table>
</div>
</div>
</div>
<div id="dest_to_string" class="exampleblock">
<div class="content">
<div class="listingblock">
<div class="content">
<pre>strf::<a href="to_string_hpp.html#to_basic_string">to_string</a> ( <em>args...</em> )</pre>
</div>
</div>
<div class="hdlist">
<table>
<tr>
<td class="hdlist1">
Return type
</td>
<td class="hdlist2">
<p><code>std::string</code></p>
</td>
</tr>
<tr>
<td class="hdlist1">
Supports reserve
</td>
<td class="hdlist2">
<p>Yes</p>
</td>
</tr>
</table>
</div>
</div>
</div>
<div id="dest_to_u8string" class="exampleblock">
<div class="content">
<div class="listingblock">
<div class="content">
<pre>strf::<a href="to_string_hpp.html#to_basic_string">to_u8string</a> ( <em>args...</em> )</pre>
</div>
</div>
<div class="hdlist">
<table>
<tr>
<td class="hdlist1">
Return type
</td>
<td class="hdlist2">
<p><code>std::u8string</code></p>
</td>
</tr>
<tr>
<td class="hdlist1">
Supports reserve
</td>
<td class="hdlist2">
<p>Yes</p>
</td>
</tr>
</table>
</div>
</div>
</div>
<div id="dest_to_u16string" class="exampleblock">
<div class="content">
<div class="listingblock">
<div class="content">
<pre>strf::<a href="to_string_hpp.html#to_basic_string">to_u16string</a> ( <em>args...</em> )</pre>
</div>
</div>
<div class="hdlist">
<table>
<tr>
<td class="hdlist1">
Return type
</td>
<td class="hdlist2">
<p><code>std::u16string</code></p>
</td>
</tr>
<tr>
<td class="hdlist1">
Supports reserve
</td>
<td class="hdlist2">
<p>Yes</p>
</td>
</tr>
</table>
</div>
</div>
</div>
<div id="dest_to_u32string" class="exampleblock">
<div class="content">
<div class="listingblock">
<div class="content">
<pre>strf::<a href="to_string_hpp.html#to_basic_string">to_u32string</a> ( <em>args...</em> )</pre>
</div>
</div>
<div class="hdlist">
<table>
<tr>
<td class="hdlist1">
Return type
</td>
<td class="hdlist2">
<p><code>std::u32string</code></p>
</td>
</tr>
<tr>
<td class="hdlist1">
Supports reserve
</td>
<td class="hdlist2">
<p>Yes</p>
</td>
</tr>
</table>
</div>
</div>
</div>
<div id="dest_to_wstring" class="exampleblock">
<div class="content">
<div class="listingblock">
<div class="content">
<pre>strf::<a href="to_string_hpp.html#to_basic_string">to_wstring</a> ( <em>args...</em> )</pre>
</div>
</div>
<div class="hdlist">
<table>
<tr>
<td class="hdlist1">
Return type
</td>
<td class="hdlist2">
<p><code>std::wstring</code></p>
</td>
</tr>
<tr>
<td class="hdlist1">
Supports reserve
</td>
<td class="hdlist2">
<p>Yes</p>
</td>
</tr>
</table>
</div>
</div>
</div>
<div id="dest_streambuf" class="exampleblock">
<div class="content">
<div class="listingblock">
<div class="content">
<pre><a href="to_streambuf_hpp.html#to">to</a>(<em>streambuf_ptr</em>)  (<em>args...</em>);
<a href="to_streambuf_hpp.html#to">to</a>(<em>streambuf_ref</em>)  (<em>args...</em>);</pre>
</div>
</div>
<div class="hdlist">
<table>
<tr>
<td class="hdlist1">
Return type
</td>
<td class="hdlist2">
<p><code><a href="to_streambuf_hpp.html#basic_streambuf_writer">basic_streambuf_writer&lt;<em>CharT</em>, <em>Traits</em>&gt;::result</a></code></p>
</td>
</tr>
<tr>
<td class="hdlist1">
Return value
</td>
<td class="hdlist2">
<p>A value <code>r</code>, such that:</p>
<div class="ulist">
<ul>
<li>
<p><code>r.count</code> is equal to the number of successfully written characters.</p>
</li>
<li>
<p><code>r.success</code> is <code>false</code> if an error occurred</p>
</li>
</ul>
</div>
</td>
</tr>
<tr>
<td class="hdlist1">
Supports reserve
</td>
<td class="hdlist2">
<p>No</p>
</td>
</tr>
</table>
</div>
</div>
</div>
<div id="dest_cfile" class="exampleblock">
<div class="content">
<div class="listingblock">
<div class="content">
<pre><a href="to_cfile_hpp.html#to">to</a>&lt;<em>CharT</em><sub><em>opt</em></sub>&gt;(<em>cfile</em>) (<em>args...</em>)</pre>
</div>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">Effect</dt>
<dd>
<p>Successively call <code>std::fwrite(buffer, sizeof(<em>CharT</em>),/*...*/, <em>cfile</em>)</code> until the whole content is written or until an error happens, where <code>buffer</code> is an internal array of <code><em>CharT</em></code>.</p>
</dd>
</dl>
</div>
<div class="hdlist">
<table>
<tr>
<td class="hdlist1">
Return type
</td>
<td class="hdlist2">
<p><code><a href="to_cfile_hpp.html#narrow_cfile_writer">narrow_cfile_writer&lt;<em>CharT</em>&gt;::result</a></code></p>
</td>
</tr>
<tr>
<td class="hdlist1">
Return value
</td>
<td class="hdlist2">
<div class="ulist">
<ul>
<li>
<p><code>count</code> is sum of the returned values returned by the several calls to <code>std::fwrite</code>.</p>
</li>
<li>
<p><code>success</code> is <code>false</code> if an error occured.</p>
</li>
</ul>
</div>
</td>
</tr>
<tr>
<td class="hdlist1">
Supports reserve
</td>
<td class="hdlist2">
<p>No</p>
</td>
</tr>
</table>
</div>
</div>
</div>
<div id="dest_wcfile" class="exampleblock">
<div class="content">
<div class="listingblock">
<div class="content">
<pre><a href="to_cfile_hpp.html#wto">wto</a>(<em>cfile</em>) (<em>args...</em>)</pre>
</div>
</div>
<div class="hdlist">
<table>
<tr>
<td class="hdlist1">
Header file
</td>
<td class="hdlist2">
<p><code><a href="to_cfile_hpp.html">&lt;strf/to_cfile.hpp&gt;</a></code></p>
</td>
</tr>
<tr>
<td class="hdlist1">
Return type
</td>
<td class="hdlist2">
<p><code><a href="to_cfile_hpp.html#wide_cfile_writer">wide_cfile_writer&lt;<em>CharT</em>&gt;::result</a></code></p>
</td>
</tr>
</table>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="outbuff_types">3. Derivates of <code>basic_outbuff</code></h2>
<div class="sectionbody">
<div class="paragraph">
<p>The table below lists the concrete types that derivate from the <code>basic_outbuff&lt;<em>CharT</em>&gt;</code> abstract class.</p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 47%;">
<col style="width: 53%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Type</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><a href="outbuff_hpp.html#basic_cstr_writer">basic_cstr_writer</a>&lt;<em>CharT</em>&gt;</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Writes C strings</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><a href="outbuff_hpp.html#discarded_outbuff">discarded_outbuff</a>&lt;<em>CharT</em>&gt;</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Discard content</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><a href="to_string_hpp.html#basic_string_appender">basic_string_appender</a>&lt;<em>CharT</em>, <em>Traits</em><sub><em>opt</em></sub>, <em>A</em><sub><em>opt</em></sub>&gt;</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Appends to <code>std::basic_string</code> objects.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><a href="to_string_hpp.html#basic_string_maker">basic_string_maker</a>&lt;<em>CharT</em>, <em>Traits</em><sub><em>opt</em></sub>, <em>A</em><sub><em>opt</em></sub>&gt;</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Creates <code>std::basic_string</code> objects.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><a href="to_string_hpp.html#basic_sized_string_maker">basic_sized_string_maker</a>&lt;<em>CharT</em>, <em>Traits</em><sub><em>opt</em></sub>, <em>A</em><sub><em>opt</em></sub>&gt;</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Creates <code>std::basic_string</code> objects with pre-reserved capacity</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><a href="to_streambuf_hpp.html#basic_streambuf_writer">basic_streambuf_writer</a>&lt;<em>CharT</em>, <em>Traits</em><sub><em>opt</em></sub>&gt;</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Writes to <code>std::basic_streambuf</code> object</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><a href="to_cfile_hpp.html#narrow_cfile_writer">narrow_cfile_writer</a>&lt;<em>CharT</em><sub><em>opt</em></sub>&gt;</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Writes to <code>FILE*</code> using narrow-oriented functions.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><a href="to_cfile_hpp.html#wide_cfile_writer">narrow_wide_writer</a></code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Writes to <code>FILE*</code> using wide-oriented functions.</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>where:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code><em>CharT</em></code> is a charater type.</p>
</li>
<li>
<p><code><em>Traits</em></code> is a <a href="https://en.cppreference.com/w/cpp/named_req/CharTraits"><em>CharTraits</em></a> type.</p>
</li>
<li>
<p><code><em>A</em></code> is an <a href="https://en.cppreference.com/w/cpp/named_req/Allocator"><em>Allocator</em></a> type</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="tr_string">4. Tr-string</h2>
<div class="sectionbody">
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code class="language-cpp" data-lang="cpp">auto s = strf::to_string.tr("{} in hexadecimal is {}", x, strf::hex(x));</code></pre>
</div>
</div>
<div class="paragraph">
<p>The <em>tr-string</em> is like what in other formatting
libraries would be called as the <em>format string</em>,
except that it does not specify any formatting.
Its purpose is to enable your program to provide multilingual support
by using translation tools like <a href="https://en.wikipedia.org/wiki/Gettext">gettext</a>.</p>
</div>
<div class="paragraph">
<p>Since it is common for the person who writes the string to be translated
not being the same who translates it, the tr-string syntax allows
the insertion of comments.</p>
</div>
<table class="tableblock frame-all grid-all spread">
<caption class="title">Table 5. Syntax</caption>
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">A <code>'{'</code> followed by</th>
<th class="tableblock halign-left valign-top">until</th>
<th class="tableblock halign-left valign-top">means</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>'-'</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">the next <code>'}'</code> or end of string</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">a comment</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">a digit</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">the next <code>'}'</code> or end of string</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">a positional argument reference</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">another <code>'{'</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">the second <code>'{'</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">an escaped <code>'{'</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">any other character</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">the next <code>'}'</code> or end of string</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">a non positional argument reference</p></td>
</tr>
</tbody>
</table>
<div class="dlist">
<dl>
<dt class="hdlist1">Comments</dt>
<dd>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code class="language-cpp" data-lang="cpp">auto str = strf::to_string.tr
    ( "You can learn more about python{-the programming language, not the animal species} at {}"
    , "www.python.org" );
assert(str == "You can learn more about python at www.python.org");</code></pre>
</div>
</div>
</dd>
<dt class="hdlist1">Positional arguments</dt>
<dd>
<p>Position zero refers to the first input argument. The characters the after the digits are ignored. So they can also be used as comments.</p>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code class="language-cpp" data-lang="cpp">auto str = strf::to_string.tr("{1 a person} likes {0 a food type}.", "sandwich", "Paul");
assert(str == "Paul likes sandwich.");</code></pre>
</div>
</div>
</dd>
<dt class="hdlist1">Non positional arguments</dt>
<dd>
<p>The characters the after the <code>'{'</code> are ignored as well</p>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code class="language-cpp" data-lang="cpp">auto str = strf::to_string.tr("{a person} likes {a food type}.", "Paul", "sandwich");
assert(str == "Paul likes sandwich.");</code></pre>
</div>
</div>
</dd>
<dt class="hdlist1">Escapes</dt>
<dd>
<p>Note there is no way and no need to escape the <code>'}'</code> character, since it has special meaning only when corresponding to a previous &#8217;{'</p>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code class="language-cpp" data-lang="cpp">auto str = strf::to_string.tr("} {{x} {{{} {{{}}", "aaa", "bbb");
assert(str == "} {x} {aaa {bbb}");</code></pre>
</div>
</div>
</dd>
</dl>
</div>
<div class="sect2">
<h3 id="tr_string_error">Tr-string error handling</h3>
<div class="paragraph">
<p>When the argument associated with a <code>"{"</code> does not exists, the library does two things:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>It prints a <a href="https://en.wikipedia.org/wiki/Specials_(Unicode_block)#Replacement_character">replacement character <code>"\uFFFD"</code> (&#65533;) </a> ( or <code>"?"</code> when the encoding can&#8217;t represent it ) where the missing argument would be printed.</p>
</li>
<li>
<p>It calls the <code>handle</code> function on the facet object correspoding to the <code><a href="strf_hpp.html#tr_error_notifier_c">tr_error_notifier_c</a></code> category, which, by default, does nothing.</p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="facets">5. Facet Categories</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 28.5714%;">
<col style="width: 14.2857%;">
<col style="width: 57.1429%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Category</th>
<th class="tableblock halign-left valign-top">Constrainable</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><a href="#width_calculator">width_calculator_c</a></code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Defines how the width is calculated</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><a href="#numpunct">numpunct_c</a>&lt;10&gt;</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Numeric punctuation for decimal base</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><a href="#numpunct">numpunct_c</a>&lt;16&gt;</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Numeric punctuation for hexadecimal base</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><a href="#numpunct">numpunct_c</a>&lt;8&gt;</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Numeric punctuation for octal base</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><a href="#numpunct">numpunct_c</a>&lt;2&gt;</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Numeric punctuation for binary base</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><a href="#lettercase">lettercase_c</a></code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Letter case for printing numeric and booleans values</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><a href="#character_encoding">char_encoding_c</a>&lt;CharT&gt;</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The character encoding correponding to character type <code>CharT</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><a href="#invalid_seq_notifier">invalid_seq_notifier_c</a></code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Callback to notify character encoding nonconformities.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><a href="#surrogate_policy">surrogate_policy_c</a></code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Wheter surrogates are treated as errors</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><a href="#tr_string_error">tr_error_notifier_c</a></code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Callback to notify errors on the tr-string</p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect1">
<h2 id="numpunct">6. Numeric punctuation</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The <code>numpunct</code> class template defines punctuation for
integers, <code>void*</code> and floating points. It comprises
the "thousands" separator, the decimal point and the
grouping pattern.
The integer sequence passed to the constructor defines the grouping.
The last group is repeated, unless you add the <code>-1</code> argument:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code class="language-cpp" data-lang="cpp">auto str1 = strf::to_string.with(numpunct&lt;10&gt;(1, 2, 3))(1000000000000ll);
assert(str1 == "1,000,000,000,00,0");

auto str2 = strf::to_string.with(numpunct&lt;10&gt;(1, 2, 3, -1))(1000000000000ll);
assert(str2 == "1000000,000,00,0");</code></pre>
</div>
</div>
<div class="paragraph">
<p>This <code>numpunct</code> constructor has some preconditions:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>No more than six arguments can be passed.</p>
</li>
<li>
<p>No argument can be greater than 30.</p>
</li>
<li>
<p>No argument can be less than <code>1</code>, unless it is the last argument and it&#8217;s equal to <code>-1</code>.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>When default constructed, the <code>numpunct</code> has no grouping, <em>i.e.</em>
the thousands separator is never printed.</p>
</div>
<div class="paragraph">
<p>The default thousands separator and decimal point are <code>U','</code> and <code>U'.'</code>,
repectively. To change them, use the <code>thousands_sep</code> and <code>decimal_point</code>
member functions:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code class="language-cpp" data-lang="cpp">auto my_punct = numpunct&lt;10&gt;(3).thousands_sep(U'\'').decimal_point(U':');
auto str = strf::to_string.with(my_punct)(1000000.5);
assert(str == "1'000'000:5");

//or as lvalue:
auto my_punct2 = numpunct&lt;10&gt;(3);
my_punct2.thousands_sep(U';');
my_punct2.decimal_point(U'^');

auto str = strf::to_string.with(my_punct2)(1000000.5);
assert(str == "1;000;000^5");</code></pre>
</div>
</div>
<div class="sect2">
<h3 id="_numeric_punctuation_from_locale">Numeric punctuation from locale</h3>
<div class="paragraph">
<p>The header file <code>&lt;strf/locale.hpp&gt;</code> declares the <code>locale_numpunct</code> function,
which returns a <code>numpunct&lt;10&gt;</code> object that reflects the current locale:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code class="language-cpp" data-lang="cpp">#include &lt;strf/locale.hpp&gt;
#include &lt;strf/to_string.hpp&gt;

void sample() {
    if (setlocale(LC_NUMERIC, "de_DE")) {
        const auto punct_de = strf::locale_numpunct();
        auto str = strf::to_string.with(punct_de) (*strf::fixed(10000.5))
        assert(str == "10.000,5");
    }
}</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="lettercase">7. Letter case</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The <code>lettercase</code> facet affects the letter cases when printing numeric values.
The default value is <code>strf::lowercase</code>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code class="language-cpp" data-lang="cpp">namespace strf {

enum class lettercase { lower = /*...*/, mixed = /*...*/, upper = /*...*/ };

constexpr lettercase lowercase = lettercase::lower;
constexpr lettercase mixedcase = lettercase::mixed;
constexpr lettercase uppercase = lettercase::upper;

}</code></pre>
</div>
</div>
<table class="tableblock frame-all grid-all spread">
<caption class="title">Table 6. Printed numeric values examples</caption>
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 66.6667%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Value</th>
<th class="tableblock halign-left valign-top">Result examples</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>strf::lowercase</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>0xab</code> <code>1e+50</code> <code>inf</code> <code>nan</code> <code>true</code> <code>false</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>strf::mixedcase</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>0xAB</code> <code>1e+50</code> <code>Inf</code> <code>NaN</code> <code>True</code> <code>False</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>strf::uppercase</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>0XAB</code> <code>1E+50</code> <code>INF</code> <code>NAN</code> <code>TRUE</code> <code>FALSE</code></p></td>
</tr>
</tbody>
</table>
<div class="listingblock">
<div class="title">Usage example</div>
<div class="content">
<pre class="prettyprint highlight"><code class="language-cpp" data-lang="cpp">auto str_upper = strf::to_string.with(strf::uppercase)
    ( *strf::hex(0xabc), ' '
    , 1.0e+50, ' '
    , std::numeric_limits&lt;FloatT&gt;::infinity() );

assert(str_upper == "0XAB 1E+50 INF");

auto str_mixed = strf::to_string.with(strf::mixedcase)
    ( *strf::hex(0xabc), ' '
    , 1.e+50, ' '
    , std::numeric_limits&lt;FloatT&gt;::infinity() );

assert(str_mixed == "0xAB 1e+50 Inf");</code></pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="character_encoding">8. Character encodings</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The class templates below are facets that specify the character encoding
corresponding to the character type. Their instances are always
empty classes. More encodings are expected to be included in
future version of the library.</p>
</div>
<div id="static_char_encodings" class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code class="language-cpp" data-lang="cpp">namespace strf {

template &lt;typename CharT&gt; struct ascii;
template &lt;typename CharT&gt; struct iso_8859_1;
template &lt;typename CharT&gt; struct iso_8859_3;
template &lt;typename CharT&gt; struct iso_8858_15;
template &lt;typename CharT&gt; struct windows_1252;

template &lt;typename CharT&gt; struct utf8;
template &lt;typename CharT&gt; struct utf16;
template &lt;typename CharT&gt; struct utf32;

template &lt;typename CharT&gt;
using utf = /* utf8&lt;CharT&gt; , utf16&lt;CharT&gt; or utf32&lt;CharT&gt; */
            /* , depending on sizeof(CharT) */;

} // namespace strf</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">Example: write in Windows-1252</div>
<div class="content">
<pre class="prettyprint highlight"><code class="language-cpp" data-lang="cpp">auto s = strf::to_string
    .with(strf::windows_1252&lt;char&gt;())
    .with(strf::numpunct&lt;10&gt;{4, 3, 2}.thousands_sep(0x2022))
    ("one hundred billions = ", 100000000000ll);

// The character U+2022 is encoded as '\225' in Windows-1252
assert(s == "one hundred billions = 1\2250000\225000\2250000");</code></pre>
</div>
</div>
<div class="sect2">
<h3 id="encoding_conversion">Encoding conversion</h3>
<div class="paragraph">
<p>Since the library knows the encoding correspondig to each
character type, and knows how to convert from one to another,
it is possible to mix input string of difference characters
types, though you need to use the function <code>conv</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code class="language-cpp" data-lang="cpp">auto str   = strf::to_string( "aaa-"
                            , strf::conv(u"bbb-")
                            , strf::conv(U"ccc-")
                            , strf::conv(L"ddd") );

auto str16 = strf::to_u16string( strf::conv("aaa-")
                               , u"bbb-"
                               , strf::conv(U"ccc-")
                               , strf::conv(L"ddd") );

assert(str   ==  "aaa-bbb-ccc-ddd");
assert(str16 == u"aaa-bbb-ccc-ddd");</code></pre>
</div>
</div>
<div class="paragraph">
<p>The <code>conv</code> function can also specify an alternative encoding
for a specific input string argument:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code class="language-cpp" data-lang="cpp">auto str_utf8 = strf::to_u8string
    ( strf::conv("--\xA4--", strf::iso_8859_1&lt;char&gt;())
    , strf::conv("--\xA4--", strf::iso_8859_15&lt;char&gt;()));

assert(str_utf8 == u8"--\u00A4----\u20AC--");</code></pre>
</div>
</div>
<div class="paragraph">
<p>The <code>sani</code> function has the same effect as <code>conv</code>,
except when the input encoding is same as the output.
In this case <code>sani</code> causes the input to be sanitized, whereas <code>conv</code> does not:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code class="language-cpp" data-lang="cpp">auto str = strf::to_string
    .with(strf::iso_8859_3&lt;char&gt;()) // the output encoding
    ( strf::conv("--\xff--")                             // not sanitized
    , strf::conv("--\xff--", strf::iso_8859_3&lt;char&gt;())   // not sanitized ( same encoding )
    , strf::conv("--\xff--", strf::utf8&lt;char&gt;())         // sanitized ( different encoding )
    , strf::sani("--\xff--")                             // sanitized
    , strf::sani("--\xff--", strf::iso_8859_3&lt;char&gt;()) ) // sanitized

assert(str == "--\xff----\xff----?----?----?--");</code></pre>
</div>
</div>
<div class="paragraph">
<p>The library replaces the invalid sequences by the
<a href="https://en.wikipedia.org/wiki/Specials_(Unicode_block)#Replacement_character">replacement character &#xFFFD;</a>,
if the destination encoding supports it. Otherwise, <code>'?'</code> is printed, as in the above code snippet.</p>
</div>
<div class="paragraph">
<p>An "invalid sequence" is any input that is non-conformant to the source encoding,
or that is impossible to write, in a conformant way, in the destination encoding.
But there is an optional exception for surrogates characters.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
When the input is UTF-8, the library follows the practice recommended by the
Unicode Standard regarding to calculate how many replacement characters to print
for each non-conformant input sequence. ( see for "Best Practices for Using U+FFFD" in
<a href="https://www.unicode.org/versions/Unicode10.0.0/ch03.pdf">Chapter 3</a> ).
</td>
</tr>
</table>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
The library does not sanitizes non-conformities when converting a single character,
like punctuation characters or the the fill character ( they are in UTF-32 ). In this case
the replacement character is only used when the destination encoding is not able
to print the codepoint.
For example, if the you use <code>(char32_t)0xFFFFFFF</code> as the <a href="#numpunct">decimal point</a>,
then it will printed as "\uFFFD" if the destination is UTF-8 or UTF-16, but
if the destination is UTF-32, then the library just writes <code>(char32_t)0xFFFFFFF</code>
verbatim.
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="surrogate_policy">Surrogates tolerance</h3>
<div class="paragraph">
<p>There is one particular kind of nonconformity that you may sometimes want to
permit, which is the invalid presence of
<a href="https://en.wikipedia.org/wiki/Universal_Character_Set_characters#Surrogates">surrogate</a>
characters.
That is particular common on Windows, where you may have an old file name, created
at the time of Windows 95 ( where wide strings were UCS-2 ) and that contains
some unpaired surrogates. If you then treat it as UTF-16 and convert it to UTF-8
and back to UTF-16, you get a different name.</p>
</div>
<div class="paragraph">
<p>So the library provides the <code>surrogate_policy</code> enumeration, which is a facet that
enables you to turn off the surrogate sanitization.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code class="language-cpp" data-lang="cpp">namespace strf {
enum class surrogate_policy : bool { strict = false, lax = true };
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>When the value is <code>surrogate_policy::strict</code>, which is the default,
if an UTF-16 input contains a high surrogate not followed by a low surrogate,
or a low surrogate not following a high surrogate, that is considered
invalid and is thus sanitized.
When the value is <code>surrogate_policy::lax</code>, those situations are allowed.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code class="language-cpp" data-lang="cpp">std::u16string original {u'-', 0xD800 ,u'-', u'-', u'-'};

// convert to UTF-8
auto str_strict = strf::to_u8string(strf::conv(original));
auto str_lax =
    strf::to_u8string .with(strf::surrogate_policy::lax) (strf::conv(original));

assert(str_strict == u8"-\uFFFD---");                  // surrogate sanitized
assert(str_lax == (const char8_t*)"-\xED\xA0\x80---"); // surrogate allowed

// convert back to UTF-16
auto utf16_strict = strf::to_u16string(strf::conv(str_lax));
auto utf16_lax =
    strf::to_u16string .with(strf::surrogate_policy::lax) (strf::conv(str_lax));

assert(utf16_strict == u"-\uFFFD\uFFFD\uFFFD---");     // surrogate sanitized
assert(utf16_lax == original);                         // surrogate preserved</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="invalid_seq_notifier">Encoding error notifier function</h3>
<div class="paragraph">
<p>The facet <code>invalid_seq_notifier</code> contains a function pointer that is called
every time an ivalid sequence is sanitized, unless it is null, which is the
default.</p>
</div>
<div class="paragraph">
<p>The code below throws an exception if <code>u16str</code> contains any invalid sequence:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code class="language-cpp" data-lang="cpp">std::u16string u16str = /* ... */;
notifier_func =  [](){
    throw std::sytem_error(std::make_error_code(std::errc::illegal_byte_sequence));
};
strf::invalid_seq_notifier notifier{ notifier_func };

auto str = strf::to_string.width(notifier)(strf::conv(u16str));</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="width_calculator">9. Width Calculation</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The <code><a href="strf_hpp.html#width_calculator_c">width_calculator_c</a></code> facet category
enables you to choose how the width of a string is calculated when using
<a href="#alignment_format_functions">alignment formatting</a>. You have five options:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>The <code><a href="strf_hpp.html#fast_width">fast_width</a></code> facet assumes that the width
of a string is equal to its size. This is the least accurate method,
but it&#8217;s the fastest and also is what others formatting
libraries usually do. Therefore it&#8217;s the default facet.</p>
<div class="listingblock">
<div class="title">Example</div>
<div class="content">
<pre class="prettyprint highlight"><code class="language-cpp" data-lang="cpp">auto str = "15.00 \xE2\x82\xAC \x80"; // "15.00 € \x80"
auto result = strf::to_string.with(strf::fast_width{})
             ( strf::right(str, 12, '*') );
assert(result == "*15.00 \xE2\x82\xAC \x80"); // width calculated as 11</code></pre>
</div>
</div>
</li>
<li>
<p>The <code><a href="strf_hpp.html#width_as_fast_u32len">width_as_fast_u32len</a></code> facet
evaluates the width of a string as the number of Unicode code points.
However, differently from <code>width_as_u32len</code>, to gain performance,
it assumes that the measured string is totally conformant to its encoding.
Nonconformities do not cause undefined behaviour, but lead to incorrect
values. For example, the width of an UTF-8 string may simply be calculated as
the number of bytes that are not in the range [<code>0x80</code>, <code>0xBF</code>], <em>i.e.</em>,
are not continuation bytes. So that an extra continuation byte&#8201;&#8212;&#8201;that
would replaced by a <code>"\uFFFD"</code> during sanitization&#8201;&#8212;&#8201;is not counted.</p>
<div class="listingblock">
<div class="title">Example</div>
<div class="content">
<pre class="prettyprint highlight"><code class="language-cpp" data-lang="cpp">auto str = "15.00 \xE2\x82\xAC \x80"; // "15.00 € \x80"
auto result = strf::to_string .with(strf::width_as_fast_u32len{})
             ( strf::right(str, 12, '*'));
assert(result == "****15.00 \xE2\x82\xAC \x80"); // width calculated as 8</code></pre>
</div>
</div>
</li>
<li>
<p>The <code><a href="strf_hpp.html#width_as_u32len">width_as_u32len</a></code> facet also
evaluates the width of a string as the number of Unicode code points.
But each nonconformity to the encoding is counted as an extra
code points ( as if it were replaced by
<a href="https://en.wikipedia.org/wiki/Specials_(Unicode_block)#Replacement_character">replacement character &#xFFFD;</a> ).</p>
<div class="listingblock">
<div class="title">Example</div>
<div class="content">
<pre class="prettyprint highlight"><code class="language-cpp" data-lang="cpp">auto str = "15.00 \xE2\x82\xAC \x80"; // "15.00 € \x80"
auto result = strf::to_string .with(strf::width_as_u32len{})
             ( strf::right(str, 12, '*'));

assert(result == "***15.00 \xE2\x82\xAC \x80"); // width calculated as 9</code></pre>
</div>
</div>
</li>
<li>
<p>The <code><a href="strf_hpp.html#make_width_calculator">make_width_calculator</a></code> function
template takes a function object <code>f</code> as paramenter and
returns a facet object that calculates the width of the strings
by converting them to UTF-32 ( following the policy associated to
<code><a href="#invalid_seq_policy">invalid_seq_policy</a>::replace</code> ) and then calling
<code>f</code> to evaluate the width of each UTF-32 character. <code>f</code> shall take a
<code>char32_t</code> parameter and return a <code><a href="strf_hpp.html#width_t">width_t</a></code>,
which is a type that implements
<a href="https://en.wikipedia.org/wiki/Fixed-point_arithmetic">Q16.16 fixed-point arithmetics</a>.
This means that can use non itegral values.</p>
<div class="listingblock">
<div class="title">Example</div>
<div class="content">
<pre class="prettyprint highlight"><code class="language-cpp" data-lang="cpp">auto wfunc = [](char32_t ch) &#8594; strf::width_t {
    using namespace strf::width_literal;
    static const strf::width_t roman_numerals_width [] = {
        0.5642_w, 1.1193_w, 1.6789_w, 1.8807_w, 1.2982_w, 1.8853_w,
        2.4954_w, 3.0046_w, 1.8945_w, 1.3624_w, 1.9035_w, 2.4771_w,
        1.1789_w, 1.4495_w, 1.4128_w, 1.7294_w
    };

    if (ch &lt; 0x2160 || ch &gt; 0x216F) {
        return 1;
    }
    return roman_numerals_width[ch - 0x2160];
};
auto my_wcalc = strf::make_width_calculator(wfunc);
auto str = u8"\u2163 + \u2167 = \u216B"; // "Ⅳ + Ⅷ = Ⅻ"
auto result = strf::to_u8string.with(my_wcalc) (strf::right(str, 18, '.'));

// width calculated as 13.3624, rounded to 13:
assert(result == u8".....\u2163 + \u2167 = \u216B");</code></pre>
</div>
</div>
</li>
<li>
<p>The fifth option is to implement your own width calculator. This
implies to create a class that satisfies the
<a href="strf_hpp.html#WidthCalculator">WidthCalculator</a> type requirements.
There are two reasons why you may want to do that, instead
of the of the previous options:</p>
<div class="ulist">
<ul>
<li>
<p>Accuracy: The previous methods are not able to take into
account the presence of ligatures and digraphs.</p>
</li>
<li>
<p>Peformance: The object returned by
<code><a href="strf_hpp.html#make_width_calculator">make_width_calculator</a></code>
converts the string to UTF-32 before calling the provided
function object for each UTF-32 character.
When you implement your own calculator, you can optimize
it to directly measure strings that are encoded
in a specific encoding.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
<hr>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>The width calculation algorithm is applied
on the input, not the output string. Keep that in mind when
converting from one encoding to another using
<code><a href="#encoding_conversion">conv</a></code> or <code><a href="#encoding_conversion">sani</code></a>.
For example, when converting from UTF-8 to UTF-16 and using
the <code>fast_width</code> facet, the
width of the string is its size in UTF-8, not in UTF-16.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code class="language-cpp" data-lang="cpp">auto str = "15.00 \xE2\x82\xAC \x80"; // "15.00 € \x80"

auto res1 = strf::to_u16string.with(strf::fast_width{})
            (strf::conv(str) &gt; 12);
auto res2 = strf::to_u16string.with(strf::width_as_fast_u32len{})
            (strf::conv(str) &gt; 12);
auto res3 = strf::to_u16string.with(strf::width_as_u32len{})
            (strf::conv(str) &gt; 12);

assert(res1 == u" 15.00 \u20AC \uFFFD");  // width calculated as strlen(str)
assert(res2 == u"    15.00 \u20AC \uFFFD"); // width calculated as 8
assert(res3 == u"   15.00 \u20AC \uFFFD"); // width calculated as 9</code></pre>
</div>
</div>
</td>
</tr>
</table>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_ranges">10. Ranges</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_without_formatting">Without formatting</h3>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 100%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>range(<em>range_obj</em>, <em>func</em><sub><em>opt</em></sub>)</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>range(<em>array</em>, <em>func</em><sub><em>opt</em></sub>)</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>range(<em>begin</em>, <em>end</em>, <em>func</em><sub><em>opt</em></sub>)</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>separated_range(<em>range_obj</em>, <em>separator</em>, <em>func</em><sub><em>opt</em></sub>)</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>separated_range(<em>array</em>, <em>separator</em>, <em>func</em><sub><em>opt</em></sub>)</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>separated_range(<em>begin</em>, <em>end</em>, <em>separator</em>, <em>func</em><sub><em>opt</em></sub>)</code></p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>where</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code><em>range_obj</em></code> is an object whose type is a <a href="https://en.cppreference.com/w/cpp/named_req/Container"><em>Container</em></a> type</p>
</li>
<li>
<p><code><em>begin</em></code> and <code><em>end</em></code> are iterators</p>
</li>
<li>
<p><code><em>separator</em></code> is a raw string of <code><em>CharT</em></code>, where <code><em>CharT</em></code> is the destination character type.</p>
</li>
<li>
<p><code><em>func</em></code> is  unary a function object such that the type of expression <code><em>func</em>(<em>x</em>)</code> is printable where <code><em>x</em></code> is an element of the range.</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="title">Examples</div>
<div class="content">
<pre class="prettyprint highlight"><code class="language-cpp" data-lang="cpp">int arr[3] = { 11, 22, 33 };

auto str = strf::to_string(strf::range(arr));
assert(str == "112233");

str = strf::to_string(strf::separated_range(arr, ", "));
assert(str == "11, 22, 33");

auto op = [](auto x){ return strf::<a href="#join">join</a>('(', +strf::fmt(x * 10), ')'); };

str = strf::to_string(strf::separated_range(arr, ", ", op));
assert(str == "(+110), (+220), (+330)");</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_with_formatting">With formatting</h3>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 100%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>fmt_range(<em>range_obj</em>)</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>fmt_range(<em>array</em>)</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>fmt_range(<em>begin</em>, <em>end</em>)</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>fmt_separated_range(<em>range_obj</em>, <em>separator</em>)</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>fmt_separated_range(<em>array</em>, <em>separator</em>)</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>fmt_separated_range(<em>begin</em>, <em>end</em>, <em>separator</em>)</code></p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Any format function applicable to the element type of the
range can also be applied to the
expression <code>strf::fmt_range(/*...*/)</code> or
<code>strf::fmt_separated_range(/*...*/)</code>.
It causes the formatting to be applied to each element.</p>
</div>
<div class="listingblock">
<div class="title">Example 1</div>
<div class="content">
<pre class="prettyprint highlight"><code class="language-cpp" data-lang="cpp">std::vector&lt;int&gt; vec = { 11, 22, 33 };
auto str1 = strf::to_string("[", +strf::fmt_separated_range(vec, " ;") &gt; 6, "]");
assert(str1 == "[   +11 ;   +22 ;   +33]");</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">Example 2</div>
<div class="content">
<pre class="prettyprint highlight"><code class="language-cpp" data-lang="cpp">int array[] = { 11, 22, 33 };
auto str2 = strf::to_string
    ( "["
    , *strf::fmt_separated_range(array, " / ").fill('.').hex() &gt; 6,
    " ]");

assert(str2 == "[..0xfa / ..0xfb / ..0xfc]");</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="join">11. Joins</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_simple_joins">Simple joins</h3>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 100%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>join(<em>args</em>...)</code></p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p><em>Joins</em> enables you to group a set of input arguments as one:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code class="language-cpp" data-lang="cpp">auto str = strf::to_string.tr("Blah blah blah {}.", strf::join("abc", '/', 123))
assert(str == "Blah blah blah abc/123")</code></pre>
</div>
</div>
<div class="paragraph">
<p>They can be handy to create aliases:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code class="language-cpp" data-lang="cpp">struct date{ int day, month, year; };

auto as_yymmdd = [](date d) {
    return strf::join( strf::dec(d.year % 100).p(2), '/'
                     , strf::dec(d.month).p(2), '/'
                     , strf::dec(d.day).p(2) );
};
date d {1, 1, 1999};
auto str = strf::to_string("The day was ", as_yymmdd(d), '.');
assert(str == "The day was is 99/01/01.");</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_aligned_joins">Aligned joins</h3>
<div class="paragraph">
<p>You can apply any of the <a href="#format_function">alignment format function</a> on the
expression <code>join(<em>args</em>...)</code></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code class="language-cpp" data-lang="cpp">auto str = strf::to_string(strf::join("abc", "def", 123) &gt; 15);
assert(str == "      abcdef123);</code></pre>
</div>
</div>
<div class="paragraph">
<p>Or use any of the expressions below:</p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 100%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>join_align(<em>width</em>, <em>alignment</em>, <em>ch</em><sub><em>opt</em></sub>, <em>split_pos</em><sub><em>opt</em></sub>) (<em>args</em>...)</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>join_left(<em>width</em>, <em>ch</em><sub><em>opt</em></sub>) (<em>args</em>...)</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>join_right(<em>width</em>, <em>ch</em><sub><em>opt</em></sub>) (<em>args</em>...)</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>join_center(<em>width</em>, <em>ch</em><sub><em>opt</em></sub>) (<em>args</em>...)</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>join_split(<em>width</em>, <em>split_pos</em>) (<em>args</em>...)</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>join_split(<em>width</em>, <em>ch</em>, <em>split_pos</em>)  (<em>args</em>...)</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>join(<em>args</em>...).split_pos(<em>split_pos</em>) % <em>width</em></code></p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>where:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code><em>args</em>...</code> are the values to be printed</p>
</li>
<li>
<p><code><em>width</em></code> is a value of type <code>std::int16_t</code></p>
</li>
<li>
<p><code><em>alignment</em></code> is a value of type <code><a href="strf_hpp.html#text_alignment">text_alignment</a></code></p>
</li>
<li>
<p><code><em>ch</em></code> is a value of type <code>char32_t</code></p>
</li>
<li>
<p><code><em>split_pos</em></code> is a value of type <code>std::size_t</code></p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code class="language-cpp" data-lang="cpp">auto str = strf::to_string(strf::join_split(15, U'.', 2)("abc", "def", 123));
assert(abcdef......123);</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_extending_the_library_em_to_do_em">12. Extending the library <em>(to-do)</em></h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_adding_output_types">Adding output types</h3>
<div class="paragraph">
<p>to-do</p>
</div>
</div>
<div class="sect2">
<h3 id="_adding_printable_types">Adding printable types</h3>
<div class="paragraph">
<p>to-do</p>
</div>
</div>
<div class="sect2">
<h3 id="_adding_facets">Adding Facets</h3>
<div class="paragraph">
<p>to-do</p>
</div>
</div>
<div class="sect2">
<h3 id="_adding_character_encodings">Adding character encodings</h3>
<div class="paragraph">
<p>to-do</p>
</div>
</div>
</div>
</div>
</div>
<div id="footer">
<div id="footer-text">
Last updated 2020-09-01 12:34:07 -03
</div>
</div>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prettify/r298/prettify.min.css">
<script src="https://cdnjs.cloudflare.com/ajax/libs/prettify/r298/prettify.min.js"></script>
<script>prettyPrint()</script>
</body>
</html>